
<div class="container">
  <ul class="nav nav-tabs" ng-class="{active : isActive($index)}">
    <li class="nav-item" ng-repeat="tab in tabs">
      <a  class="nav-link" href="#!/{{$index}}" ng-click="setActive($index)">{{subject}}</a>
    </li>
  </ul>
  <h1>Mon formulaire</h1>
  <p>Veuilllez remplir les champs suivants : </p>
  <form name="form">
    <div class="form-row">
      <div class="form-group col-12">
        <label for="userName"> Votre nom : </label>
        <input type="text" name="userName" class="form-control" ng-model="userName" ng-class="{submitStyle :submit}" required >
        <p>{{userName.$valid}}</p>
        <label for="userMail"> Votre courriel : </label>
        <input type="email" name="userMail" class="form-control" ng-model="userMail" ng-class="{submitStyle :submit}" required>
        <p>{{userMail.$valid}}</p>
      </div>
    </div>
    <div class="form-row ">
      <div class="form-group col-12">
        <label for="userSubject"> Votre sujet : </label>
        <input type="text" name="userSubject" class="form-control" ng-model="userSubject" ng-class="{submitStyle :submit}" required>
        <p>{{userSubject.$valid}}</p>
      </div>
    </div>
    <div class="form-row">
      <div class="form-group col-12">
        <label for="userText"> Votre texte : </label>
        <textarea name="userText" rows="8" cols="80" class="form-control" ng-model="userText" ng-class="{submitStyle :submit}" required minlength="10"></textarea>
        <p>{{userText.$valid}}</p>
      </div>
      <div class="form-group col-12">
        <button class="btn btn-secondary" type="submit" name="buttonValid" ng-click="addTab(form.$valid)">Envoyer</button>
      </div>
    </div>
    <div class="row">
      <div class="col-12">
        <!-- NOTE: https://docs.angularjs.org/api/ngMessages Mettre ng-ngMessages pour personnaliser les erreurs -->
        <div ng-if = "submit && form.$invalid" role="alert"> Vous avez des erreurs.</div>

        <div ng-if = "form.userName.$invalid" role="alert">
          <ul>
            <li ng-repeat="(type, error) in form.userName.$error">Le nom comporte une erreur : {{type}}</li>
          </ul>
        </div>
        <div ng-if = "form.userMail.$invalid" role="alert">
          <ul>
            <li ng-repeat="(type, error) in form.userMail.$error">Votre courriel comporte une erreur : {{type}}</li>
          </ul>
        </div>
        <div ng-if = "form.userSubject.$invalid" role="alert">
          <ul>
            <li ng-repeat="(type, error) in form.userSubject.$error">Le sujet comporte une erreur :  {{type}}</li>
          </ul>
        </div>
        <div ng-if = "form.userText.$invalid" role="alert">
          <ul>
            <li ng-repeat="(type, error) in form.userText.$error">Votre texte comporte une erreur : {{type}}</li>
          </ul>
        </div>
      </div>
    </div>
    </form>
    </div>
